let PokemonDOMFactory=function(){let e=document.getElementById("pokemonCardsContainer"),t=document.createElement("div");t.classList.add("row","justify-content-center","scroll-y","larger-mobile"),e.appendChild(t),window.onload=e.setAttribute("disabled","true");let a=function(){let e=e=>e.charAt(0).toUpperCase()+e.slice(1),t=e=>{let t=e.toString().split("");if(1===t.length)return`0.${t[0]} kg`;let a=t.shift()+".";return t.forEach(e=>a+=e),a+" kg"},a=e=>{let t=e.toString().split("");if(1===t.length)return`0.${t[0]} m`;let a=t.shift()+".";return t.forEach(e=>a+=e),a+" m"},n=(e,t)=>Number(e/(t||100)).toLocaleString(void 0,{style:"percent",minimumFractionDigits:2}),l=e=>{if(-1===e)return"Genderless";let t=12.5*e;return[100-t,t]},i=(t,a,n)=>{let l=a.map(a=>e(a[t]));return n?l.join(n):l.join(" ").trim()};return{capitalize:e,kgStr:t,meterStr:a,percentageStr:n,genderRateStr:l,strsFromArr:i}}(),n,l=(n=function(e){let t=[];if(!e.parentNode)return t;let a=e.parentNode.firstChild;for(;a;)1===a.nodeType&&a!==e&&t.push(a),a=a.nextSibling;return t},{getSiblings:n}),i=function(){function e(e,t,n,l){let i=document.createElement("li");if(i.classList.add("dropdown-item","text-light","d-flex","justify-content-between"),t.forEach(e=>i.classList.add(e)),i.dataset.pokemonType=e,i.innerText=a.capitalize(e),n){let r=document.createElement("span");r.classList.add("circle",e),"all"===e&&i.classList.add("selected"),i.appendChild(r)}return i}return{navigation:function e(){let t=document.getElementById("navContainer"),n,i,r,s,d,o;function c(e,t,n,l){let i=document.createElement("li");if(i.classList.add("dropdown-item","white-font"),t.forEach(e=>i.classList.add(e)),i.setAttribute("id",e),i.innerText=a.capitalize(e),n){let r=document.createElement("span");r.classList.add("circle"),i.appendChild(r)}return i.addEventListener("click",t=>l(t,"all"===e)),i}(r=document.createElement("div")).classList.add("collapse","navbar-collapse"),r.setAttribute("id","navbarContainer");let p;(i=document.createElement("button")).classList.add("navbar-toggler"),i.setAttribute("type","button"),i.dataset.toggle="collapse",i.dataset.target="#navbarContainer",i.setAttribute("aria-controls","navbarContainer"),i.ariaExpanded=!1,i.ariaLabel="Toggle navigation",(p=document.createElement("span")).classList.add("navbar-toggler-icon"),i.appendChild(p);let m;(s=document.createElement("form")).classList.add("form-inline","my-2","my-lg-0"),(m=document.createElement("input")).classList.add("form-control"),m.setAttribute("type","search"),m.placeholder="Search",m.ariaLabel="Search",m.addEventListener("keyup",e=>{PokemonRepository.search(e)}),s.appendChild(m),(n=document.createElement("ul")).classList.add("navbar-nav","mr-auto"),function e(){function t(e){e.preventDefault();let{target:t}=e;t.classList.toggle("selected"),l.getSiblings(t).forEach(e=>{e.classList.contains("selected")&&e.classList.remove("selected")});let a=document.getElementById("sortByBtn");t.classList.contains("selected")?a.innerText=`Sort By: ${t.id}`:a.innerText="Sort By",PokemonRepository.sort(t.id,t.classList.contains("selected")),e.stopPropagation()}(d=document.createElement("div")).classList.add("dropdown"),d.setAttribute("id","sortDropDownContainer");let a;(a=document.createElement("button")).classList.add("dropdown-btn"),a.setAttribute("id","sortByBtn"),a.setAttribute("type","button"),a.dataset.toggle="dropdown",a.ariaHasPopup=!0,a.ariaExpanded=!0,a.innerText="Sort By",d.appendChild(a);let i;(i=document.createElement("div")).classList.add("dropdown-menu"),i.ariaLabel="sortByBtn",["A-Z","Z-A"].forEach(e=>{i.appendChild(c(e,["sort-filter"],!1,t))}),d.appendChild(i),n.appendChild(d)}(),function e(){function t(e,t){e.preventDefault();let{target:a}=e,n=t;if(n){let l=Array.from(document.querySelectorAll(".type-selection"));a.classList.contains("selected")||a.classList.add("selected"),l.forEach(e=>{e.classList.contains("selected")&&e.classList.remove("selected")})}else a.classList.toggle("selected");PokemonRepository.filter(n),e.stopPropagation()}(o=document.createElement("div")).classList.add("dropdown"),o.setAttribute("id","filterDropDownContainer");let a,l;(a=document.createElement("button")).classList.add("dropdown-btn"),a.setAttribute("id","filterByTypeBtn"),a.setAttribute("type","button"),a.dataset.toggle="dropdown",a.ariaHasPopup=!0,a.ariaExpanded=!0,a.innerText="Type",(l=document.createElement("i")).classList.add("fa-solid","fa-filter"),a.appendChild(l),o.appendChild(a);let i,r,s;(i=document.createElement("div")).classList.add("dropdown-menu"),i.ariaLabel="filterByTypeBtn",(r=c("all",["type-filter"],!0,t)).classList.add("selected"),i.appendChild(r),(s=(s=["normal","fire","water","electric","grass","ice","fighting","poison","ground","flying","psychic","bug","rock","ghost","dragon","dark","steel","fairy"]).sort((e,t)=>e>t)).forEach(e=>{i.appendChild(c(e,["type-filter","type-selection"],!0,t))}),o.appendChild(i),n.appendChild(o)}(),r.appendChild(s),r.appendChild(n),t.appendChild(i),t.appendChild(r)},emptyMessage:function e(){if(document.querySelector(".nothing-found-container"))return;let t=function e(t,a,n){let l=function e(...t){let a=document.createElement("div");return t.forEach(e=>a.classList.add(e)),a}(...t),i=document.createElement("h5");return i.innerText=n,l.appendChild(i),l}(["nothing-found-container"],"h5","No pokemon");console.log(t),document.body.appendChild(t)},pokemonCard:function e(t){let{name:n,imageUrl:l,types:i}=t.data,r=document.createElement("div");r.classList.add("border-dark","pokemon-card","text-white","bg-dark","rounded","p-5","position-relative"),r.setAttribute("data-pokemon",n),r.setAttribute("data-pokemon-id",t.data.id),r.setAttribute("data-toggle","modal"),r.setAttribute("data-target","#myModal");let s=document.createElement("div");s.classList.add("img-container","flex-2");let d=document.createElement("img");d.classList.add("card-img-top","pokemon-card-image"),d.setAttribute("src",l),s.appendChild(d);let o=document.createElement("div");o.classList.add("card-body","d-flex","flex-column","align-items-start","justify-content-start","p-0");let c=document.createElement("h6");c.classList.add("card-title","mb-0","pokemon-card-title","text-light"),c.innerText=a.capitalize(n);let p=document.createElement("span");return p.classList.add("d-flex","justify-content-between","pokemon-card-types-element"),i.forEach(e=>{let t=document.createElement("span");t.classList.add("badge"),t.dataset.pokemonType=e.type.name,t.innerText=a.capitalize(e.type.name),p.appendChild(t)}),o.appendChild(c),o.appendChild(p),r.appendChild(s),r.appendChild(o),r},dropDownMenu:{typeFilter:function t(){let a=document.getElementById("filterTypesContainer-Desktop"),n=document.getElementById("filterTypesContainer-Mobile");n.addEventListener("click",e=>{e.preventDefault(),e.stopImmediatePropagation()},!1);let l=["normal","fire","water","electric","grass","ice","fighting","poison","ground","flying","psychic","bug","rock","ghost","dragon","dark","steel","fairy"];l=l.sort((e,t)=>e>t);let i=e("all",["type-filter"],!0),r=e("all",["type-filter"],!0);a.appendChild(i),n.appendChild(r),l.forEach(t=>{let l=e(t,["type-filter","type-selection"],!0),i=e(t,["type-filter","type-selection"],!0);a.appendChild(l),n.appendChild(i)}),Array.from(document.querySelectorAll(".type-filter")).forEach(function(e){e.addEventListener("click",function(t){t.preventDefault(),function e(t,a){let n=t.target,l=n.dataset.pokemonType;l||(l=(n=n.parentNode).dataset.pokemonType);let i=Array.from(document.querySelectorAll(".type-filter"));if(a){let r=Array.from(document.querySelectorAll(`[data-pokemon-type=${l}]`));n.classList.contains("selected")||r[0].classList.contains("selected")||r.forEach(e=>e.classList.add("selected")),i.forEach(e=>{e.dataset.pokemonType!==l&&e.classList.contains("selected")&&e.classList.remove("selected")})}else{let s=Array.from(document.querySelectorAll(`[data-pokemon-type=${l}]`));s.forEach(e=>e.classList.toggle("selected"))}PokemonRepository.filter(a)}(t,"all"===e.dataset.pokemonType)})})},sortFilter:function e(){document.getElementById("sortPokemonContainer-Desktop"),document.getElementById("sortPokemonContainer-Mobile")}}}}(),r={show:function e(t){return function e(t){let{name:n,types:l,imageUrl:i}=t.data,r=l[0].type.name,s=document.createElement("div");return s.classList.add("modal-body-wrapper"),!function e(){let d=[],{stats:o,profile:c,evolutions:p,moves:m}=t;d.push(function e(t){let s=document.createElement("div");return s.classList.add("d-flex","border-bottom","pb-3"),s.setAttribute("id","imageTypeStatsSection"),s.appendChild(function e(){let t=document.createElement("figure");t.classList.add("figure");let l=document.createElement("img");return l.classList.add("figure-img","img-fluid","rounded"),l.setAttribute("alt",`Image of ${a.capitalize(n)}`),l.setAttribute("src",i),t.appendChild(l),t}()),s.appendChild(function e(){let t=document.createElement("div");return t.classList.add("container","types-stats-container","d-flex","justify-content-center"),l.forEach(e=>{let{name:a}=e.type,n=document.createElement("span");n.classList.add("badge","text-light"),n.setAttribute("data-type",a),n.innerText=a.toUpperCase(),t.appendChild(n)}),t}()),s.appendChild(function e(){let n=document.createElement("div");n.classList.add("stats-container","d-flex","flex-column");let l={hp:255,attack:145,defense:250,spAttk:194,spDef:230,speed:180};return t.forEach(e=>{let{base_stat:t,stat:i}=e,s=document.createElement("div");s.classList.add("stat-wrapper");let d=document.createElement("span");d.classList.add("stat-title","small"),d.innerText=i.name.length<=2?i.name.toUpperCase():"special-attack"===i.name?"SP Attk":"special-defense"===i.name?"SP Def":a.capitalize(i.name);let o=document.createElement("div");o.classList.add("progress");let c=100*t/l["special-attack"===i.name?"spAttk":"special-defense"===i.name?"spDef":i.name],p=document.createElement("div");p.classList.add("progress-bar"),p.setAttribute("role","progressbar"),p.setAttribute("aria-value-now",c),p.setAttribute("aria-value-min",0),p.setAttribute("aria-value-max",100),p.setAttribute("data-main-type-bg",r),p.style.width=`${c}%`,p.innerText=t,o.appendChild(p),s.appendChild(d),s.appendChild(o),n.appendChild(s)}),n}()),s}(o.stats)),d.push(function e(t){let n=document.createElement("div");n.classList.add("d-flex","border-bottom","flex-wrap","pb-2"),n.setAttribute("id","profileDetailsSection");let l=document.createElement("div");l.classList.add("flex-grow-1","mt-2");let i=document.createElement("h6");i.classList.add("lead"),i.innerText="Profile",l.appendChild(i),n.appendChild(l);let r=Object.keys(t).length,s=document.createElement("div");return s.classList.add("container"),Object.entries(t).forEach((e,t)=>{let[n,l]=e,i=document.createElement("div");i.classList.add("row","align-items-center","justify-content-around","pt-2","pb-2","pl-3"),t!==r-1&&i.classList.add("border-bottom");let d=document.createElement("div"),o=document.createElement("div");d.classList.add("col-5","p-0"),o.classList.add("col","p-0");let c=document.createElement("p"),p=document.createElement("p");c.classList.add("small","bold"),p.classList.add("profile-data","small","d-flex","align-items-center");let m,u;if("height"===n||"weight"===n||"abilities"===n){if(m=a.capitalize(n),!(u="height"===n?a.meterStr(l):"weight"===n&&a.kgStr(l))){let h=l.map(e=>({name:e.ability.name}));u=a.strsFromArr("name",h," / ")}}else"captureRate"===n?(m="Capture Rate",u=a.percentageStr(l,255)):"genderRate"===n?(m="Gender Rate",u=a.genderRateStr(l)):"eggGroups"===n?(m="Egg Groups",u=a.strsFromArr("name",l," - ")):("hatchSteps"===n||"baseHappiness"===n)&&(m="hatchSteps"===n?"Hatch Steps":"Base Happiness",u=l);if(c.innerText=m,"genderRate"===n&&Array.isArray(u)){let[f,g]=u,b=document.createElement("span"),y=document.createElement("span"),E=document.createElement("i"),v=document.createElement("i");E.classList.add("fa-solid","fa-mars"),v.classList.add("fa-solid","fa-venus"),p.appendChild(E),b.innerText=f+"%",p.appendChild(b),p.appendChild(v),y.innerText=g+"%",p.appendChild(y)}else p.innerText=u;if("captureRate"===n){let L=document.createElement("span"),C=l<45?{className:"badge-danger",text:"rare"}:l>=45&&l<105?{className:"badge-warning",text:"low"}:l>=105&&l<175?{className:"badge-info",text:"fair"}:{className:"badge-success",text:"good"};L.classList.add("badge",C.className),L.innerText=a.capitalize(C.text),p.appendChild(L)}d.appendChild(c),o.appendChild(p),i.appendChild(d),i.appendChild(o),s.appendChild(i)}),n.appendChild(s),n}(c)),p.chain.length>1&&d.push(function e(t){let n=document.createElement("div");n.classList.add("d-flex","border-bottom","flex-column"),n.setAttribute("id","evolutionsSection");let l=document.createElement("div");l.classList.add("flex-grow-1","mt-2");let i=document.createElement("h6");return i.classList.add("lead"),i.innerText="Evolutions",l.appendChild(i),n.appendChild(l),t.forEach((e,l)=>{if(l<t.length-1){let i=t[l+1];n.appendChild(function e(t,n,l){let i=document.createElement("div");i.classList.add("row","pb-3","position-relative"),l||i.classList.add("border-bottom");let r=document.createElement("div"),s=document.createElement("div");r.classList.add("col"),s.classList.add("col");let d=document.createElement("div"),o=document.createElement("div");d.classList.add("card","align-items-center","justify-content-center","border-0"),o.classList.add("card","align-items-center","justify-content-center","border-0");let c=document.createElement("img"),p=document.createElement("img");c.classList.add("card-img-top","small-card-img"),p.classList.add("card-img-top","small-card-img"),c.setAttribute("src",t.species.imageUrl),p.setAttribute("src",n.species.imageUrl),d.appendChild(c),o.appendChild(p),r.appendChild(d),s.appendChild(o),i.appendChild(r),i.appendChild(s);let m=document.createElement("div");m.classList.add("w-100");let u=document.createElement("p");u.classList.add("small","text-center"),u.innerText=`${a.capitalize(t.species.name)} evolves into ${a.capitalize(n.species.name)} at level ${n.details.minLevel}`,m.appendChild(u);let h=document.createElement("div");h.classList.add("position-absolute","evolution-arrow");let f=document.createElement("i");return f.classList.add("fa-solid","fa-arrow-right"),h.appendChild(f),i.appendChild(h),i.appendChild(m),i}(e,i,l+1===t.length-1))}}),n}(p.chain)),d.push(function e(t){let n=document.createElement("div");n.classList.add("d-flex","border-bottom","flex-column"),n.setAttribute("id","movesSection");let l=document.createElement("div");l.classList.add("flex-grow-1","mt-2");let i=document.createElement("h6");i.classList.add("lead"),i.innerText="Moves",l.appendChild(i),n.appendChild(l);let r=document.createElement("div");function s(e,t){let n=document.createElement("div");n.classList.add("card");let l=document.createElement("div");l.classList.add("card-header","bg-secondary","text-light"),l.setAttribute("id",`${t}Heading`);let i=document.createElement("h5");i.classList.add("mb-0","moves-title-element","h6","d-flex","justify-content-between"),i.innerText=a.capitalize(t)+" Moves";let r=document.createElement("span");r.innerText=e.length,i.appendChild(r);let s=document.createElement("button");s.classList.add("btn","w-100"),s.dataset.toggle="collapse",s.dataset.target=`#${t}Collapse`,s.setAttribute("aria-expanded","true"),s.setAttribute("aria-controls",`${t}Collapse`),s.appendChild(i),l.appendChild(s),n.appendChild(l);let d=document.createElement("div");d.classList.add("collapse"),d.setAttribute("id",`${t}Collapse`),d.setAttribute("aria-labelledby",`${t}Heading`),d.dataset.parent="#accordion";let o=document.createElement("div");return o.classList.add("card-body","p-0"),e.forEach(e=>{let{name:t,level:n,accuracy:l,power:i,effect:r,pp:s,type:d}=e.details,c=document.createElement("div");c.classList.add("card","border-bottom","border-left-0","border-right-0","border-top-0");let p=document.createElement("div");if(p.classList.add("card-body","d-flex","justify-content-evenly","align-items-center"),n>0){let m=document.createElement("p");m.classList.add("small"),m.innerText=`${n}: `,p.appendChild(m)}let u=document.createElement("p");u.classList.add("card-title","m-0","flex-grow-1"),u.innerText=a.capitalize(t);let h=document.createElement("span");h.classList.add("badge","small","text-light"),h.dataset.pokemonType=d,h.innerText=d.toUpperCase();let f=document.createElement("button");f.classList.add("btn"),f.setAttribute("type","button"),f.dataset.toggle="collapse",f.dataset.target=`#${t}Move`,f.setAttribute("aria-expanded","false"),f.setAttribute("aria-controls",`${t}Move`);let g=document.createElement("i");g.classList.add("fa-solid","fa-caret-down"),f.appendChild(g),p.appendChild(u),p.appendChild(h),p.appendChild(f),c.appendChild(p);let b=document.createElement("div");b.classList.add("collapse"),b.setAttribute("id",`${t}Move`);let y=document.createElement("div");y.classList.add("card","card-body","bg-light","border-0","rounded-0");let E=document.createElement("div");E.classList.add("move-stats-container");let v=document.createElement("p");v.innerText=`Power: ${i||"N/A"}`;let L=document.createElement("p");L.innerText=`Power: ${l||"N/A"}`;let C=document.createElement("p");C.innerText=`Power: ${s||"N/A"}`,E.appendChild(v),E.appendChild(L),E.appendChild(C);let k=document.createElement("div");k.classList.add("move-effect-container");let A=document.createElement("p");k.innerText=r,k.appendChild(A),y.appendChild(E),y.appendChild(k),b.appendChild(y),c.appendChild(b),o.appendChild(c)}),d.appendChild(o),n.appendChild(d),n}r.setAttribute("id","accordion");let d=t.sortNatural(),o=t.sortAlphabetical().machine,c=t.sortAlphabetical().tutor,p=t.sortAlphabetical().egg;return 0!==d.length&&r.appendChild(s(d,"natural")),0!==o.length&&r.appendChild(s(o,"machine")),0!==c.length&&r.appendChild(s(c,"tutor")),0!==p.length&&r.appendChild(s(p,"egg")),n.appendChild(r),n}(m.library)),d.forEach(e=>s.appendChild(e))}(),s}(t)}};return $("#myModal").on("show.bs.modal",async function(e){let t=$(e.relatedTarget)[0],n=await new Promise((e,a)=>{PokemonRepository.fetchMoves(t.getAttribute("data-pokemon-id")).then(t=>e(t))});$("#myModal").find(".modal-title").text(a.capitalize(n.data.name)),$("#myModal").find(".modal-body").html(r.show(n))}),$("#myModal").on("hidden.bs.modal",function(e){$("#myModal").find(".modal-title").text(""),$("#myModal").find(".modal-body").html("")}),{init:function e(){(function e(){let t=document.getElementById("searchBar");t.value="",t.addEventListener("keyup",e=>PokemonRepository.search(e))})(),i.dropDownMenu.typeFilter()},createPokemon:function e(a){let n=i.pokemonCard(a);t.appendChild(n)},createNavigation:i.navigation,createEmptyMessage:i.emptyMessage,loadPokemonCards:function t(){let a=document.createElement("div");for(let[n,l]of(a.classList.add("row","justify-content-center","scroll-y","larger-mobile"),e.appendChild(a),PokemonRepository.pokemon)){let r=i.pokemonCard(l);a.appendChild(r)}},StrHelpers:a}}(),PokemonRepository=function(){let e=new Map;function t({name:e,id:t,detailsUrl:a,imageUrl:n,speciesUrl:l,types:i,stats:r,abilities:s,height:d,weight:o,moves:c,captureRate:p,eggGroups:m,genderRate:u,hatchSteps:h,baseHappiness:f,evolutions:g}){this.data={get name(){return e},get id(){return t},get detailsUrl(){return a},get imageUrl(){return n},get types(){return i}},this.stats={get stats(){return r}},this.profile={get abilities(){return s},get height(){return d},get weight(){return o},get eggGroups(){return m},get captureRate(){return p},get genderRate(){return u},get hatchSteps(){return h},get baseHappiness(){return f}},this.evolutions={get chain(){return g}},this.moves={get moves(){return c}}}let a=async function(){let e=await fetch("https://pokeapi.co/api/v2/pokemon/?limit=150"),t=await e.json();return t.results},n=async function(e){try{let t=[];for(let a=0;a<e.length;a++){let{name:n,url:l}=e[a],i=await fetch(l),r=await i.json();t.push({name:n,detailsUrl:l,id:r.id,imageUrl:r.sprites.front_default,abilities:r.abilities,stats:r.stats,types:r.types,height:r.height,weight:r.height,moves:r.moves,speciesUrl:r.species.url});let s={data:{name:n,imageUrl:r.sprites.front_default,types:r.types,id:r.id}};PokemonDOMFactory.createPokemon(s)}return t}catch(d){console.error(d)}},l=async function(e){try{for(let t=0;t<e.length;t++){let a=e[t],{speciesUrl:n}=a,l=await fetch(n),i=await l.json();a.captureRate=i.capture_rate,a.eggGroups=i.egg_groups,a.genderRate=i.gender_rate,a.hatchSteps=255*i.hatch_counter,a.baseHappiness=i.base_happiness,a.evolutions=await fetch(i.evolution_chain.url).then(e=>e.json()).then(e=>m(e.chain))}return e}catch(r){console.error(r)}},i=async function(a){console.log(a);try{for(let n=0;n<a.length;n++){let l=a[n],i=new t(l);e.set(i.data.id,i)}}catch(r){console.error(r)}},r=async function(e){let t=[];for(let a=0;a<e.length;a++){e[a];let{move:n,version_group_details:l}=e[a],{name:i,url:r}=n,s=await (await fetch(r)).json(),{accuracy:o,power:p,pp:m,type:u,effect_entries:h}=s,f=new d(i,l,o,p,m,u,h);t.push(f)}return await c(t)},s=async function(t){let a=e.get(parseInt(t));if(a.moves.hasOwnProperty("library"))return a;let{moves:n}=a.moves;return await new Promise((e,t)=>r(n).then(t=>e(t))).then(e=>(a.moves={get library(){return e}},a))};function d(e,t,a,n,l,i,r){let s=t[0].move_learn_method.name,d="level-up"===s?"natural":s,o="natural"===d&&t[0].level_learned_at;this.details={get name(){return e},get group(){return d},get level(){return o},get accuracy(){return null!==a?a+"%":"N/A"},get power(){return null!==n?n:"N/A"},get pp(){return null!==l?l:"N/A"},get type(){return i.name},get effect(){return r.length>0?r[0].effect:"N/A"}}}function o(e){this.data={get natural(){return e.natural},get machine(){return e.machine},get tutor(){return e.tutor},get egg(){return e.egg}},this.sortNatural=function(){return this.data.natural.sort((e,t)=>e.details.level>t.details.level)},this.sortAlphabetical=function(){return{machine:this.data.machine.sort((e,t)=>e.details.name>t.details.name),tutor:this.data.tutor.sort((e,t)=>e.details.name>t.details.name),egg:this.data.egg.sort((e,t)=>e.details.name>t.details.name)}}}async function c(e){let t={natural:e.filter(e=>"natural"===e.details.group),machine:e.filter(e=>"machine"===e.details.group),tutor:e.filter(e=>"tutor"===e.details.group),egg:e.filter(e=>"egg"===e.details.group)};return new o(t)}function p(e,t,a){this.details=0!==e.length&&{get minLevel(){return e[0].min_level}},this.species={get name(){return t.name},get url(){return t.url},get imageUrl(){var n;return`https:///raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${(n=this.url).match(/\/(\d+)\//)[1]}.png`}},this.evolvesTo=0!==a.length&&{get evolution(){return a[0]}}}function m(e){let t=[],{evolution_details:a,species:n,evolves_to:l}=e,i=new p(a,n,l);return t.push(i),!function e(t,a){if(!t.evolvesTo)return;let{evolution_details:n,species:l,evolves_to:i}=t.evolvesTo.evolution,r=new p(n,l,i);a.push(r),e(r,a)}(i,t),t}function u(t){let a=Array.from(document.querySelectorAll("[data-pokemon]")),n=Array.from(document.querySelectorAll(".type-filter")),l=Array.from(document.querySelectorAll("[data-pokemon-type = all]"));function i(){a.forEach(e=>{e.classList.contains("hidden")&&e.classList.remove("hidden"),e.classList.contains("filtered")&&e.classList.remove("filtered")}),l.forEach(e=>e.classList.add("selected"))}function r(e,t){e.forEach(e=>{var a;let n,l;return a=e,n=t?"filtered":"hidden",l=t?"hidden":"filtered",void(a.classList.contains(l)&&a.classList.remove(l),a.classList.contains(n)||a.classList.add(n))})}function s(e,t){for(let a=0;a<e.length;a++)for(let n=0;n<t.length;n++)if(e[a]===t[n])return!0;return!1}if(t)return i();{l.forEach(e=>{e.classList.contains("selected")&&e.classList.remove("selected")});let d=[],o=[],c=n.filter(e=>e.classList.contains("selected"));if(0===c.length)return i();let p=c.map(e=>e.innerText.toLowerCase());for(let[m,u]of e){let{name:h,types:f}=u.data,g=document.querySelector(`[data-pokemon = ${h}]`),b=f.map(e=>e.type.name);s(p,b)?d.push(g):o.push(g)}if(0===d.length)PokemonDOMFactory.createEmptyMessage();else{let y=document.querySelector(".nothing-found-container");y&&y.remove()}r(d,!0),r(o)}}return{init:function e(){a().then(n).then(l).then(i)},fetchMoves:s,filter:u,search:function e(t){let{value:a}=t.target;!function e(){u(!0);let t=Array.from(document.querySelectorAll(".selected"));t.forEach(e=>e.classList.remove("selected")),Array.from(document.querySelectorAll("[data-pokemon-type=all]")).forEach(e=>e.classList.add("selected"))}();let n=Array.from(document.querySelectorAll("[data-pokemon]")),l=0;if(n.forEach(e=>{let t=e.dataset.pokemon;t.toUpperCase().indexOf(a.toUpperCase())>-1?e.style.display="":(e.style.display="none",l++)}),l===n.length)PokemonDOMFactory.createEmptyMessage();else{let i=document.querySelector(".nothing-found-container");i&&i.remove()}},sort:function e(t,a){let n=Array.from(document.querySelectorAll("[data-pokemon]")),l;l=a?n.sort((e,a)=>"A-Z"===t?e.dataset.pokemon>a.dataset.pokemon:"Z-A"===t?e.dataset.pokemon<a.dataset.pokemon:void 0):n.sort((e,t)=>parseInt(e.dataset.pokemonId)>parseInt(t.dataset.pokemonId)),function e(){let t=document.getElementById("pokemonCardsContainer").children[0];for(;t.children.length>0;)t.children[0].remove()}(),function e(t){let a=document.getElementById("pokemonCardsContainer").children[0];t.forEach(e=>a.appendChild(e))}(l)},getPokemon:function t(a){return e.get(parseInt(a))},get pokemon(){return e}}}();PokemonRepository.init(),PokemonDOMFactory.init();let GameControl=function(){let e=!1,t,a=[],n=PokemonRepository.pokemon,l=0,i=0,r=document.getElementById("startGameButton");r.addEventListener("click",function(t){let a;t.preventDefault(),e||(this.setAttribute("disabled","true"),document.getElementById("searchBar").setAttribute("disabled","true"),(a=document.getElementById("navbarSupportedContent")).classList.contains("show")&&a.classList.toggle("show"),s.children[0].remove(),document.getElementById("filterTypesContainer-Desktop").classList.toggle("hidden"),document.getElementById("navbarToggler").setAttribute("disabled","true"),o(!0))});let s=document.getElementById("pokemonCardsContainer"),d=()=>{if(a.length>149)return null;let e=null;for(;null===e||a.includes(e);)e=Math.floor(149*Math.random()+1);return e};function o(n){if(e=!0,t=5,a=[],l=0,i=0,n)return function e(){let t=document.createElement("div");t.classList.add("row","justify-content-center","align-self-center","position-absolute","explain-game-card");let a=document.createElement("div");a.classList.add("row");let n=document.createElement("div");n.classList.add("card");let l=document.createElement("div");l.classList.add("card-body");let i=document.createElement("h5");i.classList.add("card-title"),i.innerText="Who's That Pokemon?";let r=document.createElement("p");r.classList.add("card-text","pt-3","pb-2"),r.innerText="In this game, you will be givin randomly selected outlines of Pokemon and then asked to guess. If you get 5 incorrect, you lose.  Want to play? ";let d=document.createElement("button");d.classList.add("btn","btn-danger","mt-3"),d.setAttribute("type","button"),d.innerText="Leave Game";let o=document.createElement("button");o.classList.add("btn","btn-success","mt-3","ml-5"),o.setAttribute("type","button"),o.innerText="Start Game",d.addEventListener("click",()=>{t.remove(),c()}),o.addEventListener("click",()=>{t.remove(),u(),p()}),l.appendChild(i),l.appendChild(r),l.appendChild(d),l.appendChild(o),n.appendChild(l),a.appendChild(n),t.appendChild(a),s.appendChild(t)}();u(),p()}function c(){e=!1,t=0,a=[],l=0,i=0,r.removeAttribute("disabled"),document.getElementById("filterTypesContainer-Desktop").classList.toggle("hidden"),document.getElementById("navbarToggler").removeAttribute("disabled"),document.getElementById("searchBar").removeAttribute("disabled"),PokemonDOMFactory.loadPokemonCards()}function p(){let e=n.get(d()),{name:r,id:m,imageUrl:u}=e.data;a.push(m),s.appendChild(function e(t){let a=document.createElement("div");a.classList.add("card","mx-auto","col","col-8","col-md-4","align-self-center"),a.setAttribute("id","whosThatPokemonCard");let n=document.createElement("img");n.classList.add("card-img-top","filtered-img","crazy-gradient"),n.setAttribute("id","whosThatPokemonImage"),n.setAttribute("src",t);let l=document.createElement("div");l.classList.add("card-body");let i=document.createElement("form"),r=document.createElement("div");r.classList.add("form-group");let s=document.createElement("label");s.setAttribute("for","nameThatPokemon"),s.innerText="Who's That Pokemon?";let d=document.createElement("input");d.classList.add("form-control"),d.setAttribute("id","nameThatPokemonInput"),d.setAttribute("type","text"),d.placeholder="...";let o=document.createElement("button");return o.classList.add("btn","btn-primary"),o.setAttribute("id","submitPokemonAnswer"),o.setAttribute("type","submit"),o.innerText="Submit",o.addEventListener("click",function(e){e.preventDefault(),this.setAttribute("disabled","true")}),r.appendChild(s),r.appendChild(d),i.appendChild(r),i.appendChild(o),l.appendChild(i),a.appendChild(n),a.appendChild(l),a}(u));let h=document.getElementById("nameThatPokemonInput");h.focus(),document.getElementById("submitPokemonAnswer").onclick=function(){h.setAttribute("disabled","true");let e=h.value;document.getElementById("whosThatPokemonImage").classList.remove("filtered-img");let a;e.toLowerCase().trim()==r?(a=`Correct! The pokemon is ${PokemonDOMFactory.StrHelpers.capitalize(r)}`,l++):(function e(){let t=Array.from(document.querySelectorAll(".life")),a=t[t.length-1];a.remove()}(),t--,i++,a=0===t?`Game over! You answered a total of ${l} right out of ${l+i}. Better luck next time!`:`Incorrect! You answered ${PokemonDOMFactory.StrHelpers.capitalize(e)}, but the pokemon is ${PokemonDOMFactory.StrHelpers.capitalize(r)}.`),function e(t,a){let n=document.getElementById("whosThatPokemonCard"),l=document.createElement("div");l.classList.add("card-body"),l.setAttribute("id","feedback");let i=document.createElement("p");if(i.innerText=t,l.appendChild(i),a){let r=document.createElement("button");r.classList.add("btn","btn-secondary"),r.innerText="Click for Next Question",r.addEventListener("click",e=>{e.preventDefault(),n.remove(),p()}),l.appendChild(r)}else{let s=document.createElement("button");s.classList.add("btn","btn-success"),s.innerText="Play Again?";let d=document.createElement("button");d.classList.add("btn","btn-secondary"),d.innerText="Return to Pokedex",s.addEventListener("click",e=>{e.preventDefault(),n.remove(),o()}),d.addEventListener("click",e=>{e.preventDefault(),n.remove(),c()}),l.appendChild(s),l.appendChild(d)}n.appendChild(l)}(a,0!==t)}}function m(){let e=document.createElement("div");e.classList.add("parent-container","life");let t=document.createElement("div");t.classList.add("outer-circle");let a=document.createElement("div");a.classList.add("inner-circle");let n=document.createElement("div");n.classList.add("line");let l=document.createElement("div");l.classList.add("color-container","top");let i=document.createElement("div");return i.classList.add("color-container","bottom"),e.appendChild(t),e.appendChild(a),e.appendChild(n),e.appendChild(l),e.appendChild(i),e}function u(){let e=document.createElement("div");e.classList.add("lives-container","d-flex");for(let a=0;a<t;a++){let n=m();n.setAttribute("id",a+1),e.appendChild(n)}s.appendChild(e)}}();